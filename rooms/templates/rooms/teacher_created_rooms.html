{% extends 'base.html' %}

{% load static %}
{% block header_teacher %}
    {% include "rooms/teacher_header.html" %}
{% endblock header_teacher %}
{% block room %}

<div class="ui grid">
    <div class="sixteen wide column right aligned">
        <div class="ui selection dropdown">
            <input type="hidden" name="sorting">
            <i class="dropdown icon"></i>
            <div class="default text">Sorted by</div>
            <div class="menu">
              <div class="item" data-value="1">A to Z</div>
              <div class="item" data-value="0">Z to A</div>
              <div class="item" data-value="0">Time created</div>
            </div>
        </div>
    </div>
    {% if teacher_rooms %}
    {% for room in teacher_rooms %}
            <div class="three wide column"> 
                <div class="ui special primary cards">
                    <div class="card">
                    <div class="blurring dimmable image">
                        <div class="ui dimmer">
                        <div class="content">
                            <div class="center">
                                {% if request.user in room.teacher.all %}
                                    <a href="{% url 'rooms:auth_join' room=room uuid=room.invite_url  %}" class="ui inverted button">Open Room</a>
                                {% else %}
                                    <a href="{% url 'rooms:auth_join' room=room uuid=room.invite_url  %}" class="ui inverted button">Join Room</a>
                                {% endif %}
                            </div>
                        </div>
                        </div>
                        <img src="{% static 'img/tom.jpg' %}">
                    </div>
                    <div class="content">
                        <a class="header center aligned">{{room.title}}</a>
                    </div>
                    <div class="extra content center aligned">
                        <div class="ui divider"></div>
                        <a><i class="users icon"></i>{{room.students.count}} Students</a>
                        <div class="ui divider"></div>
                        <a>Max:{{room.max_students_amount}}</a>
                        {% for i in room.subjects.all  %}
                        <a class="ui violet label">{{i}}</a>
                        {% endfor %}
                    </div>
                    </div>
                </div>
            </div>
    {% endfor %}
{% else %}
<div class="ui message sixteen wide column">
    <div class="header">You have not any created rooms yet</div>
</div>
{% endif %}
</div>
<script>
    $('.special.cards .image').dimmer({on: 'hover'}); 

</script>
{% endblock room %}